{{define "Index"}}
{{template "_head"}}
<body>
  <div class="container mt-4">
      {{template "_menu"}}
      <table class="table table-striped table-bordered">
          <thead class="thead-dark">
              <tr>
                  <th scope="col">Nome</th>
                  <th scope="col">Descrição</th>
                  <th scope="col">Preço</th>
                  <th scope="col">Deletar</th>
                  <th scope="col">Editar</th>
              </tr>
          </thead>
          <tbody>
              {{range .}}
              <tr>
                  <td>{{.Name}}</td>
                  <td>{{.Descricao}}</td>
                  <td>{{.Preco}}</td>
                  <td><button onclick="deleteProduct('{{.Id}}')" class="btn btn-danger">Deletar</button></td>
                  <td> <a href="/edit?id={{.Id}}" class="btn btn-primary">Editar</a></td>
              </tr>
              {{end}}
          </tbody>
      </table>
     <a href="/new" class="btn btn-primary">Novo</a>
    
  </div>
  <script>
    function deleteProduct(id) {
       let result = confirm("Que Deletar mesmo o "+id)
       if (result){
         window.location = "/delete?id="+id
       }
    }
  </script>
</body>


</html>
{{end}}